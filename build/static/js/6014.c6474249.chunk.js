"use strict";(self.webpackChunkfacit=self.webpackChunkfacit||[]).push([[6014],{7759:(e,a,s)=>{s.d(a,{A:()=>l});const l={PAYPAL:{name:"PayPal"},PAYONEER:{name:"Payoneer"},SWIFT:{name:"Swift"}}},26718:(e,a,s)=>{s.d(a,{Ay:()=>o,CQ:()=>t,li:()=>c});s(65043);var l=s(47819),i=s(45016),n=s(12528),r=s(51399),d=s(70579);const t={3:3,5:5,10:10,25:25,50:50},c=(e,a,s)=>e.filter(((e,l)=>l+1>(a-1)*s&&l+1<=a*s)),o=e=>{let{setCurrentPage:a,currentPage:s,perPage:c,setPerPage:o,data:h,label:u="items"}=e;const m=h.length,x=Math.ceil(m/c);return(0,d.jsxs)(l.wL,{children:[(0,d.jsx)(l.zv,{children:(0,d.jsx)("span",{className:"text-muted",children:(()=>{const e=c*(s-1)+1,a=c*s;return(0,d.jsxs)("span",{className:"pagination__desc",children:["Showing ",e," to ",a>m?m:a," of ",m," ",u]})})()})}),(0,d.jsxs)(l.ku,{className:"d-flex",children:[x>1&&(0,d.jsxs)(i.A,{ariaLabel:u,children:[(0,d.jsx)(i.c,{isFirst:!0,isDisabled:!(s-1>0),onClick:()=>a(1)}),(0,d.jsx)(i.c,{isPrev:!0,isDisabled:!(s-1>0),onClick:()=>a(s-1)}),s-1>1&&(0,d.jsx)(i.c,{onClick:()=>a(s-2),children:"..."}),(()=>{let e=[],l=s-1;for(;l>=s-1&&l>0;)e.push((0,d.jsx)(i.c,{onClick:()=>a(s-1),children:l},l)),l-=1;for(e=e.reverse(),e.push((0,d.jsx)(i.c,{isActive:!0,onClick:()=>a(s),children:s},s)),l=s+1;l<=s+1&&l<=x;)e.push((0,d.jsx)(i.c,{onClick:()=>a(s+1),children:l},l)),l+=1;return e})(),s+1<x&&(0,d.jsx)(i.c,{onClick:()=>a(s+2),children:"..."}),(0,d.jsx)(i.c,{isNext:!0,isDisabled:!(s+1<=x),onClick:()=>a(s+1)}),(0,d.jsx)(i.c,{isLast:!0,isDisabled:!(s+1<=x),onClick:()=>a(x)})]}),(0,d.jsx)(n.A,{size:"sm",ariaLabel:"Per",onChange:e=>{o(parseInt(e.target.value,10)),a(1)},value:c.toString(),children:Object.keys(t).map((e=>(0,d.jsx)(r.A,{value:e,children:e},e)))})]})]})}},51399:(e,a,s)=>{s.d(a,{A:()=>r,J:()=>n});s(65043);var l=s(70579);const i=e=>{let{children:a,value:s,disabled:i,ariaLabelledby:n,...r}=e;return(0,l.jsx)("option",{value:s,disabled:i,"aria-labelledby":n||a,...r,children:a})},n=e=>{let{list:a}=e;return null===a||void 0===a?void 0:a.map((e=>(0,l.jsx)(i,{value:e.value,...e,children:e.text||e.label},e.value)))},r=i},45016:(e,a,s)=>{s.d(a,{A:()=>o,c:()=>t});var l=s(65043),i=s(98139),n=s.n(i),r=s(92475),d=s(70579);const t=(0,l.forwardRef)(((e,a)=>{let{className:s,isDisabled:l,isActive:i,isPrev:t,isFirst:c,isNext:o,isLast:h,children:u,onClick:m,...x}=e;return(0,d.jsx)("li",{ref:a,className:n()("page-item",{disabled:l,active:i},s),...x,children:(0,d.jsxs)("span",{role:"button",onClick:m,onKeyDown:m,className:"page-link",tabIndex:l?-1:void 0,"aria-disabled":l?"true":void 0,"aria-label":(t?"First Page":o&&"Last Page")||`${u} page`,children:[t&&(0,d.jsx)(r.A,{icon:"ChevronLeft"}),c&&(0,d.jsx)(r.A,{icon:"FirstPage"}),o&&(0,d.jsx)(r.A,{icon:"ChevronRight"}),h&&(0,d.jsx)(r.A,{icon:"LastPage"}),u]})})}));t.displayName="PaginationItem";const c=(0,l.forwardRef)(((e,a)=>{let{ariaLabel:s,className:l,children:i,size:r,...t}=e;return(0,d.jsx)("nav",{ref:a,"aria-label":s,className:l,...t,children:(0,d.jsx)("ul",{className:n()("pagination",{[`pagination-${r}`]:r},"m-0"),children:i})})}));c.displayName="Pagination";const o=c},76963:(e,a,s)=>{s.d(a,{A:()=>o,v:()=>t});var l=s(65043),i=s(98139),n=s.n(i),r=s(45021),d=s(70579);const t=(0,l.forwardRef)(((e,a)=>{let{id:s,className:i,children:t,isInline:c,isValid:o,isTouched:h,invalidFeedback:u,validFeedback:m,isTooltipFeedback:x,...v}=e;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{ref:a,id:s,className:n()({"is-invalid":!o&&h&&u,"is-valid":!o&&h&&!u},i),...v,children:l.Children.map(t,(e=>(0,l.cloneElement)(e,{isInline:e.props.isInline||c,isValid:o,isTouched:h,invalidFeedback:u,validFeedback:m,isTooltipFeedback:x,isValidMessage:!1})))}),(0,d.jsx)(r.A,{isTouched:h,invalidFeedback:u,validFeedback:m,isTooltip:x})]})}));t.displayName="ChecksGroup";const c=(0,l.forwardRef)(((e,a)=>{let{id:s,className:l,name:i,type:t="checkbox",label:c,value:o,checked:h,disabled:u,isInline:m,isFormCheckInput:x,isValid:v,isTouched:j,invalidFeedback:p,validFeedback:A,isValidMessage:b=!0,isTooltipFeedback:g,onBlur:N,onChange:C,onFocus:f,onInput:y,onInvalid:S,onSelect:k,ariaLabel:w,...P}=e;const F=(0,d.jsx)("input",{ref:a,className:n()("form-check-input",{"mt-0":x,"is-invalid":!v&&j&&p,"is-valid":!v&&j&&!p},l),name:null===i?s:i,type:"radio"===t?"radio":"checkbox",id:s,value:o,checked:"radio"===t?h===o:!!h,disabled:u,onBlur:N,onChange:C,onFocus:f,onInput:y,onInvalid:S,onSelect:k,"aria-label":w,...P});return x?F:(0,d.jsxs)("div",{className:n()("form-check",{"form-switch":"switch"===t,"form-check-inline":m}),children:[F,c&&(0,d.jsx)("label",{className:"form-check-label",htmlFor:s,children:c}),b&&(0,d.jsx)(r.A,{isTouched:j,invalidFeedback:p,validFeedback:A,isTooltip:g})]})}));c.displayName="Checks";const o=c},12528:(e,a,s)=>{s.d(a,{A:()=>o});var l=s(65043),i=s(98139),n=s.n(i),r=s(51399),d=s(45021),t=s(70579);const c=(0,l.forwardRef)(((e,a)=>{let{id:s,name:l,className:i,children:c,required:o,placeholder:h,ariaDescribedby:u,ariaLabelledby:m,ariaLabel:x,list:v,multiple:j,title:p,size:A,disabled:b,value:g,defaultValue:N,isValid:C,isTouched:f,invalidFeedback:y,validFeedback:S,isValidMessage:k=!0,isTooltipFeedback:w,onBlur:P,onChange:F,onFocus:I,onInput:D,onInvalid:M,onSelect:O,...L}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("select",{ref:a,id:s,className:n()("form-select",{[`form-select-${A}`]:A,"text-muted":""===g&&h,"is-invalid":!C&&f&&y,"is-valid":!C&&f&&!y},i),name:l,"aria-label":x,"aria-describedby":u,"aria-labelledby":m,multiple:j,disabled:b,title:p,value:g,defaultValue:N,required:o,onBlur:P,onChange:F,onFocus:I,onInput:D,onInvalid:M,onSelect:O,...L,children:[h&&(0,t.jsx)(r.A,{value:"",hidden:!0,children:h}),c||v&&(0,t.jsx)(r.J,{list:v})]}),k&&(0,t.jsx)(d.A,{isTouched:f,invalidFeedback:y,validFeedback:S,isTooltip:w})]})}));c.displayName="Select";const o=c},49338:(e,a,s)=>{s.d(a,{A:()=>i});var l=s(65043);const i=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const[s,i]=(0,l.useState)(a);return{items:(0,l.useMemo)((()=>{const a=[...e];return null!==s&&a.sort(((e,a)=>e[s.key]<a[s.key]?"ascending"===s.direction?-1:1:e[s.key]>a[s.key]?"ascending"===s.direction?1:-1:0)),a}),[e,s]),requestSort:e=>{let a="ascending";s&&s.key===e&&"ascending"===s.direction&&(a="descending"),i({key:e,direction:a})},getClassNamesFor:e=>s&&s.key===e?s.direction:"d-none",sortConfig:s}}},26014:(e,a,s)=>{s.r(a),s.d(a,{default:()=>O});var l=s(65043),i=s(70949),n=s(30242),r=s(32922),d=s(26930),t=s(97043),c=s(47819),o=s(64761),h=s(26718),u=s(43856),m=s(92475),x=s(71007),v=s(8323),j=s(70545),p=s(76963),A=s(7759),b=s(49338),g=s(87317),N=s(81490),C=s(22137),f=s(60446),y=s.n(f),S=s(52205),k=s(92601),w=s(12528),P=s(51399),F=s(95178),I=s(70579);const D=e=>{var a,s,l,n,r;let{id:d,isOpen:t,setIsOpen:o,editItem:h,onUserAdded:v}=e;const p={subscriptionPlan:"Free",startDate:y()().format("YYYY-MM-DD"),endDate:y()().add(1,"year").format("YYYY-MM-DD"),paymentMethod:"Credit Card",billingAddress:{street:"",city:"",state:"",zipCode:"",country:"US"}},A=(0,i.Wx)({initialValues:{fullName:(null===h||void 0===h?void 0:h.fullName)||"",username:(null===h||void 0===h?void 0:h.username)||"",email:(null===h||void 0===h?void 0:h.email)||"",password:"Default@Password123",phoneNumber:(null===h||void 0===h?void 0:h.phoneNumber)||"+1234567890",profilePicture:(null===h||void 0===h?void 0:h.profilePicture)||"",dateOfBirth:(null===h||void 0===h?void 0:h.dateOfBirth)||y()().subtract(18,"years").format("YYYY-MM-DD"),gender:(null===h||void 0===h?void 0:h.gender)||"male",address:{street:(null===h||void 0===h||null===(a=h.address)||void 0===a?void 0:a.street)||"",city:(null===h||void 0===h||null===(s=h.address)||void 0===s?void 0:s.city)||"",state:(null===h||void 0===h||null===(l=h.address)||void 0===l?void 0:l.state)||"",zipCode:(null===h||void 0===h||null===(n=h.address)||void 0===n?void 0:n.zipCode)||"",country:(null===h||void 0===h||null===(r=h.address)||void 0===r?void 0:r.country)||"US"},role:(null===h||void 0===h?void 0:h.role)||"Customer",accountStatus:(null===h||void 0===h?void 0:h.accountStatus)||"Active",emailVerified:(null===h||void 0===h?void 0:h.emailVerified)||!1,twoFactorAuthEnabled:(null===h||void 0===h?void 0:h.twoFactorAuthEnabled)||!1,membership:(null===h||void 0===h?void 0:h.membership)||p},enableReinitialize:!0,onSubmit:async e=>{try{const a={...e,dateOfBirth:new Date(e.dateOfBirth).toISOString(),membership:{...e.membership,startDate:new Date(e.membership.startDate).toISOString(),endDate:new Date(e.membership.endDate).toISOString()}};await(0,F.nu)(a)&&((0,k.A)((0,I.jsxs)("span",{className:"d-flex align-items-center",children:[(0,I.jsx)(m.A,{icon:"Info",size:"lg",className:"me-1"}),(0,I.jsx)("span",{children:"User Added Successfully"})]}),`User ${e.fullName} has been created successfully.`),v&&v(),o(!1))}catch(a){console.error("Error adding user:",a),(0,k.A)((0,I.jsxs)("span",{className:"d-flex align-items-center",children:[(0,I.jsx)(m.A,{icon:"Error",size:"lg",className:"me-1"}),(0,I.jsx)("span",{children:"Error Creating User"})]}),"An error occurred while creating the user. Please try again.")}}});return t?(0,I.jsxs)(S.Ay,{isOpen:t,setIsOpen:o,size:"xl",titleId:d,children:[(0,I.jsx)(S.rQ,{setIsOpen:o,className:"p-4",children:(0,I.jsx)(S.wt,{id:d,children:null!==h&&void 0!==h&&h.fullName?`Edit ${h.fullName}`:"Add New User"})}),(0,I.jsx)(S.cw,{className:"px-4",children:(0,I.jsxs)("div",{className:"row g-4",children:[(0,I.jsx)(j.A,{id:"fullName",label:"Full Name",className:"col-md-6",children:(0,I.jsx)(x.A,{onChange:A.handleChange,value:A.values.fullName,autoFocus:!0})}),(0,I.jsx)(j.A,{id:"username",label:"Username",className:"col-md-6",children:(0,I.jsx)(x.A,{onChange:A.handleChange,value:A.values.username})}),(0,I.jsx)(j.A,{id:"email",label:"Email",className:"col-md-6",children:(0,I.jsx)(x.A,{type:"email",onChange:A.handleChange,value:A.values.email,required:!0})}),(0,I.jsx)(j.A,{id:"password",label:"Password",className:"col-md-6",children:(0,I.jsx)(x.A,{type:"password",onChange:A.handleChange,value:A.values.password,required:!0})}),(0,I.jsx)(j.A,{id:"phoneNumber",label:"Phone Number",className:"col-md-6",children:(0,I.jsx)(x.A,{type:"tel",onChange:A.handleChange,value:A.values.phoneNumber})}),(0,I.jsx)(j.A,{id:"dateOfBirth",label:"Date of Birth",className:"col-md-6",children:(0,I.jsx)(x.A,{type:"date",onChange:A.handleChange,value:A.values.dateOfBirth})}),(0,I.jsx)(j.A,{id:"gender",label:"Gender",className:"col-md-6",children:(0,I.jsxs)(w.A,{id:"gender",name:"gender",ariaLabel:"Select gender",onChange:A.handleChange,value:A.values.gender,children:[(0,I.jsx)(P.A,{value:"male",children:"Male"}),(0,I.jsx)(P.A,{value:"female",children:"Female"}),(0,I.jsx)(P.A,{value:"other",children:"Other"}),(0,I.jsx)(P.A,{value:"Prefer not to say",children:"Prefer not to say"})]})}),(0,I.jsx)(j.A,{id:"role",label:"Role",className:"col-md-6",children:(0,I.jsxs)(w.A,{id:"role",name:"role",ariaLabel:"Select role",onChange:A.handleChange,value:A.values.role,children:[(0,I.jsx)(P.A,{value:"Customer",children:"Customer"}),(0,I.jsx)(P.A,{value:"Admin",children:"Admin"}),(0,I.jsx)(P.A,{value:"Moderator",children:"Moderator"})]})}),(0,I.jsx)(j.A,{id:"accountStatus",label:"Account Status",className:"col-md-6",children:(0,I.jsxs)(w.A,{id:"accountStatus",name:"accountStatus",ariaLabel:"Select account status",onChange:A.handleChange,value:A.values.accountStatus,children:[(0,I.jsx)(P.A,{value:"Active",children:"Active"}),(0,I.jsx)(P.A,{value:"Inactive",children:"Inactive"}),(0,I.jsx)(P.A,{value:"Suspended",children:"Suspended"})]})}),(0,I.jsx)("div",{className:"col-md-12",children:(0,I.jsxs)(c.Ay,{className:"rounded-1 mb-0",children:[(0,I.jsx)(c.aR,{children:(0,I.jsx)(c.Bh,{icon:"LocationOn",children:(0,I.jsx)(c.ZB,{children:"Address Information"})})}),(0,I.jsx)(c.bw,{children:(0,I.jsxs)("div",{className:"row g-3",children:[(0,I.jsx)(j.A,{id:"address.street",label:"Street",className:"col-12",children:(0,I.jsx)(x.A,{onChange:A.handleChange,value:A.values.address.street})}),(0,I.jsx)(j.A,{id:"address.city",label:"City",className:"col-md-4",children:(0,I.jsx)(x.A,{onChange:A.handleChange,value:A.values.address.city})}),(0,I.jsx)(j.A,{id:"address.state",label:"State",className:"col-md-4",children:(0,I.jsx)(x.A,{onChange:A.handleChange,value:A.values.address.state})}),(0,I.jsx)(j.A,{id:"address.zipCode",label:"Zip Code",className:"col-md-4",children:(0,I.jsx)(x.A,{onChange:A.handleChange,value:A.values.address.zipCode})}),(0,I.jsx)(j.A,{id:"address.country",label:"Country",className:"col-md-4",children:(0,I.jsx)(x.A,{onChange:A.handleChange,value:A.values.address.country})})]})})]})}),(0,I.jsx)("div",{className:"col-md-12",children:(0,I.jsxs)(c.Ay,{className:"rounded-1 mb-0",children:[(0,I.jsx)(c.aR,{children:(0,I.jsx)(c.Bh,{icon:"CardMembership",children:(0,I.jsx)(c.ZB,{children:"Membership Information"})})}),(0,I.jsx)(c.bw,{children:(0,I.jsxs)("div",{className:"row g-3",children:[(0,I.jsx)(j.A,{id:"membership.subscriptionPlan",label:"Subscription Plan",className:"col-md-6",children:(0,I.jsxs)(w.A,{id:"membership.subscriptionPlan",name:"membership.subscriptionPlan",ariaLabel:"Select subscription plan",onChange:A.handleChange,value:A.values.membership.subscriptionPlan,children:[(0,I.jsx)(P.A,{value:"Free",children:"Free"}),(0,I.jsx)(P.A,{value:"Basic",children:"Basic"}),(0,I.jsx)(P.A,{value:"Premium",children:"Premium"})]})}),(0,I.jsx)(j.A,{id:"membership.paymentMethod",label:"Payment Method",className:"col-md-6",children:(0,I.jsxs)(w.A,{id:"membership.paymentMethod",name:"membership.paymentMethod",ariaLabel:"Select payment method",onChange:A.handleChange,value:A.values.membership.paymentMethod,children:[(0,I.jsx)(P.A,{value:"Credit Card",children:"Credit Card"}),(0,I.jsx)(P.A,{value:"PayPal",children:"PayPal"}),(0,I.jsx)(P.A,{value:"Bank Transfer",children:"Bank Transfer"})]})})]})})]})})]})}),(0,I.jsxs)(S.jl,{className:"px-4 pb-4",children:[(0,I.jsx)(u.A,{color:"secondary",onClick:()=>o(!1),className:"me-2",children:"Cancel"}),(0,I.jsx)(u.A,{color:"primary",onClick:()=>A.handleSubmit(),children:h?"Update User":"Add User"})]})]}):null};var M=s(91095);const O=()=>{const{darkModeStatus:e}=(0,C.A)(),[a,s]=(0,l.useState)(1),[f,S]=(0,l.useState)(h.CQ[10]),[w,P]=(0,l.useState)([]),[O,L]=(0,l.useState)(null),[Y,z]=(0,l.useState)(!1),[U,E]=(0,l.useState)(!1),[B,T]=(0,l.useState)(!1),V=(0,i.Wx)({initialValues:{searchInput:"",payment:Object.keys(A.A).map((e=>A.A[e].name)),minPrice:"",maxPrice:""},onSubmit:e=>{}});(0,l.useEffect)((()=>{(async()=>{T(!0);try{const e=await(0,F.hU)(a,f);P(e)}catch(e){console.error("Failed to fetch users:",e),(0,k.A)((0,I.jsxs)("span",{className:"d-flex align-items-center",children:[(0,I.jsx)(m.A,{icon:"Error",size:"lg",className:"me-1"}),(0,I.jsx)("span",{children:"Failed to load users"})]}),"Please try again later.")}finally{T(!1)}})()}),[a,f]);const{items:R,requestSort:$,getClassNamesFor:q}=(0,b.A)(w),_=async()=>{try{const e=await(0,F.hU)(a,f);P(e)}catch(e){console.error("Error refreshing users:",e)}};return(0,I.jsxs)(n.A,{title:t.P9.crm.subMenu.customersList.text,children:[(0,I.jsxs)(r.Ay,{children:[(0,I.jsxs)(r.n5,{children:[(0,I.jsx)("label",{htmlFor:"searchInput",className:"border-0 bg-transparent cursor-pointer me-0",children:(0,I.jsx)(m.A,{icon:"Search",size:"2x",color:"primary"})}),(0,I.jsx)(x.A,{id:"searchInput",type:"search",className:"border-0 shadow-none bg-transparent",placeholder:"Search user...",onChange:V.handleChange,value:V.values.searchInput})]}),(0,I.jsxs)(r.qb,{children:[(0,I.jsxs)(v.Ay,{children:[(0,I.jsx)(v.C,{hasIcon:!1,children:(0,I.jsx)(u.A,{icon:"FilterAlt",color:"dark",isLight:!0,className:"btn-only-icon position-relative","aria-label":"Filter"})}),(0,I.jsx)(v.rI,{isAlignmentEnd:!0,size:"lg",children:(0,I.jsx)("div",{className:"container py-2",children:(0,I.jsxs)("div",{className:"row g-3",children:[(0,I.jsx)(j.A,{label:"Balance",className:"col-12",children:(0,I.jsxs)(g.A,{children:[(0,I.jsx)(x.A,{id:"minPrice",ariaLabel:"Minimum price",placeholder:"Min.",onChange:V.handleChange,value:V.values.minPrice}),(0,I.jsx)(g.z,{children:"to"}),(0,I.jsx)(x.A,{id:"maxPrice",ariaLabel:"Maximum price",placeholder:"Max.",onChange:V.handleChange,value:V.values.maxPrice})]})}),(0,I.jsx)(j.A,{label:"Payments",className:"col-12",children:(0,I.jsx)(p.v,{children:Object.keys(A.A).map((e=>(0,I.jsx)(p.A,{id:A.A[e].name,label:A.A[e].name,name:"payment",value:A.A[e].name,onChange:V.handleChange,checked:V.values.payment.includes(A.A[e].name)},A.A[e].name)))})})]})})})]}),(0,I.jsx)(r.ro,{}),(0,I.jsx)(u.A,{icon:"PersonAdd",color:"primary",isLight:!0,onClick:()=>E(!0),children:"New User"})]})]}),(0,I.jsx)(d.A,{children:(0,I.jsx)("div",{className:"row h-100",children:(0,I.jsx)("div",{className:"col-12",children:(0,I.jsxs)(c.Ay,{stretch:!0,children:[(0,I.jsx)(c.bw,{isScrollable:!0,className:"table-responsive",children:B?(0,I.jsxs)("div",{className:"text-center py-5",children:[(0,I.jsx)(m.A,{icon:"Loop",size:"3x"}),(0,I.jsx)("p",{children:"Loading users..."})]}):(0,I.jsxs)("table",{className:"table table-modern table-hover",children:[(0,I.jsx)("thead",{children:(0,I.jsxs)("tr",{children:[(0,I.jsxs)("th",{onClick:()=>$("fullName"),className:"cursor-pointer",children:["User ",(0,I.jsx)(m.A,{size:"lg",className:q("fullName"),icon:"FilterList"})]}),(0,I.jsx)("th",{children:"Email"}),(0,I.jsxs)("th",{onClick:()=>$("membership.startDate"),className:"cursor-pointer",children:["Membership ",(0,I.jsx)(m.A,{size:"lg",className:q("membership.startDate"),icon:"FilterList"})]}),(0,I.jsx)("th",{children:"Status"}),(0,I.jsx)("th",{children:"Role"}),(0,I.jsx)("th",{children:"Last Updated"}),(0,I.jsx)("th",{children:"Actions"})]})}),(0,I.jsx)("tbody",{children:0===R.length?(0,I.jsx)("tr",{children:(0,I.jsx)("td",{colSpan:7,className:"text-center py-5",children:"No users found"})}):(0,h.li)(R,a,f).map((a=>{var s;return(0,I.jsxs)("tr",{children:[(0,I.jsx)("td",{children:(0,I.jsxs)("div",{className:"d-flex align-items-center",children:[(0,I.jsx)("div",{className:"flex-shrink-0",children:(0,I.jsx)("div",{className:"ratio ratio-1x1 me-3",style:{width:48},children:(0,I.jsx)("div",{className:`bg-l${e?"o25":"25"}-${(0,N.$)(a.id||0)} text-${(0,N.$)(a.id||0)} rounded-2 d-flex align-items-center justify-content-center`,children:(0,I.jsx)("span",{className:"fw-bold",children:(0,o.Vz)(a.fullName||"N/A")})})})}),(0,I.jsxs)("div",{className:"flex-grow-1",children:[(0,I.jsx)("div",{className:"fs-6 fw-bold",children:a.fullName||"No Name"}),(0,I.jsx)("div",{className:"text-muted",children:(0,I.jsxs)("small",{children:["@",a.fullName||"No username"]})})]})]})}),(0,I.jsx)("td",{children:(0,I.jsx)(u.A,{isLink:!0,color:"light",icon:"Email",className:"text-lowercase",tag:"a",href:`mailto:${a.email}`,children:a.email||"No Email"})}),(0,I.jsx)("td",{children:null!==(s=a.membership)&&void 0!==s&&s.startDate?y()(a.membership.startDate).format("MMM D, YYYY"):"N/A"}),(0,I.jsx)("td",{children:(0,I.jsx)("span",{className:"badge bg-"+("Active"===a.accountStatus?"success":"Suspended"===a.accountStatus?"warning":"danger"),children:a.accountStatus||"Inactive"})}),(0,I.jsx)("td",{children:a.role||"N/A"}),(0,I.jsx)("td",{children:a.updatedAt?y()(a.updatedAt).format("MMM D, YYYY"):"N/A"}),(0,I.jsx)("td",{children:(0,I.jsxs)(v.Ay,{children:[(0,I.jsx)(v.C,{hasIcon:!1,children:(0,I.jsx)(u.A,{icon:"MoreHoriz",color:"dark",isLight:!0,shadow:"sm","aria-label":"More actions"})}),(0,I.jsxs)(v.rI,{isAlignmentEnd:!0,children:[(0,I.jsx)(v.tJ,{children:(0,I.jsx)(u.A,{icon:"Edit",tag:"a",onClick:()=>{L(a),z(!0)},children:"Edit"})}),(0,I.jsx)(v.tJ,{children:(0,I.jsx)(u.A,{icon:"Delete",color:"danger",isLight:!0,tag:"a",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this user?"))try{await(0,F.hG)(e)&&(P((a=>a.filter((a=>a._id!==e)))),(0,k.A)((0,I.jsxs)("span",{className:"d-flex align-items-center",children:[(0,I.jsx)(m.A,{icon:"CheckCircle",size:"lg",className:"me-1"}),(0,I.jsx)("span",{children:"User Deleted Successfully"})]}),"The user has been removed from the system."))}catch(a){console.error("Error deleting user:",a),(0,k.A)((0,I.jsxs)("span",{className:"d-flex align-items-center",children:[(0,I.jsx)(m.A,{icon:"Error",size:"lg",className:"me-1"}),(0,I.jsx)("span",{children:"Error Deleting User"})]}),"An error occurred while deleting the user.")}})(a._id),children:"Delete"})})]})]})})]},a._id)}))})]})}),(0,I.jsx)(h.Ay,{data:w,label:"users",setCurrentPage:s,currentPage:a,perPage:f,setPerPage:S})]})})})}),O&&(0,I.jsx)(M.A,{setIsOpen:z,isOpen:Y,id:O._id,editItem:O,onUserUpdated:_}),(0,I.jsx)(D,{setIsOpen:E,isOpen:U,id:"add-user-modal",onUserAdded:_})]})}},91095:(e,a,s)=>{s.d(a,{A:()=>p});s(65043);var l=s(70949),i=s(60446),n=s.n(i),r=s(52205),d=s(92601),t=s(92475),c=s(70545),o=s(71007),h=s(12528),u=s(47819),m=s(43856),x=s(95178),v=s(51399),j=s(70579);const p=e=>{var a,s,i,p,A;let{id:b,isOpen:g,setIsOpen:N,editItem:C,onSave:f,onUserUpdated:y}=e;const S={subscriptionPlan:"Free",startDate:n()().format("YYYY-MM-DD"),endDate:n()().add(1,"year").format("YYYY-MM-DD"),paymentMethod:"Credit Card",billingAddress:{street:"",city:"",state:"",zipCode:"",country:"US"}},k=(0,l.Wx)({initialValues:{fullName:(null===C||void 0===C?void 0:C.fullName)||"",username:(null===C||void 0===C?void 0:C.username)||"",email:(null===C||void 0===C?void 0:C.email)||"",password:"Default@Password123",phoneNumber:(null===C||void 0===C?void 0:C.phoneNumber)||"+1234567890",profilePicture:(null===C||void 0===C?void 0:C.profilePicture)||"",dateOfBirth:(null===C||void 0===C?void 0:C.dateOfBirth)||n()().subtract(18,"years").format("YYYY-MM-DD"),gender:(null===C||void 0===C?void 0:C.gender)||"male",address:{street:(null===C||void 0===C||null===(a=C.address)||void 0===a?void 0:a.street)||"",city:(null===C||void 0===C||null===(s=C.address)||void 0===s?void 0:s.city)||"",state:(null===C||void 0===C||null===(i=C.address)||void 0===i?void 0:i.state)||"",zipCode:(null===C||void 0===C||null===(p=C.address)||void 0===p?void 0:p.zipCode)||"",country:(null===C||void 0===C||null===(A=C.address)||void 0===A?void 0:A.country)||"US"},role:(null===C||void 0===C?void 0:C.role)||"Customer",accountStatus:(null===C||void 0===C?void 0:C.accountStatus)||"Active",emailVerified:(null===C||void 0===C?void 0:C.emailVerified)||!1,twoFactorAuthEnabled:(null===C||void 0===C?void 0:C.twoFactorAuthEnabled)||!1,membership:(null===C||void 0===C?void 0:C.membership)||S},enableReinitialize:!0,onSubmit:async e=>{try{const a={...e,dateOfBirth:new Date(e.dateOfBirth).toISOString(),membership:{...e.membership,startDate:new Date(e.membership.startDate).toISOString(),endDate:new Date(e.membership.endDate).toISOString()}};C?await(0,x.TK)(b,a):await(0,x.nu)(a),(0,d.A)((0,j.jsxs)("span",{className:"d-flex align-items-center",children:[(0,j.jsx)(t.A,{icon:"Info",size:"lg",className:"me-1"}),(0,j.jsxs)("span",{children:["User ",C?"Updated":"Added"," Successfully"]})]}),`User ${e.fullName} has been ${C?"updated":"created"} successfully.`),f&&f(),y&&y(),N(!1)}catch(a){console.error("Error adding or updating user:",a),(0,d.A)((0,j.jsxs)("span",{className:"d-flex align-items-center",children:[(0,j.jsx)(t.A,{icon:"Error",size:"lg",className:"me-1"}),(0,j.jsxs)("span",{children:["Error ",C?"Updating":"Creating"," User"]})]}),`An error occurred while ${C?"updating":"creating"} the user. Please try again.`)}}});return g?(0,j.jsxs)(r.Ay,{isOpen:g,setIsOpen:N,size:"xl",titleId:b,children:[(0,j.jsx)(r.rQ,{setIsOpen:N,className:"p-4",children:(0,j.jsx)(r.wt,{id:b,children:null!==C&&void 0!==C&&C.fullName?`Edit ${C.fullName}`:"Add New User"})}),(0,j.jsx)(r.cw,{className:"px-4",children:(0,j.jsxs)("div",{className:"row g-4",children:[(0,j.jsx)(c.A,{id:"fullName",label:"Full Name",className:"col-md-6",children:(0,j.jsx)(o.A,{onChange:k.handleChange,value:k.values.fullName,autoFocus:!0})}),(0,j.jsx)(c.A,{id:"username",label:"Username",className:"col-md-6",children:(0,j.jsx)(o.A,{onChange:k.handleChange,value:k.values.username})}),(0,j.jsx)(c.A,{id:"email",label:"Email",className:"col-md-6",children:(0,j.jsx)(o.A,{type:"email",onChange:k.handleChange,value:k.values.email,required:!0})}),(0,j.jsx)(c.A,{id:"password",label:"Password",className:"col-md-6",children:(0,j.jsx)(o.A,{type:"password",onChange:k.handleChange,value:k.values.password,required:!0})}),(0,j.jsx)(c.A,{id:"phoneNumber",label:"Phone Number",className:"col-md-6",children:(0,j.jsx)(o.A,{type:"tel",onChange:k.handleChange,value:k.values.phoneNumber})}),(0,j.jsx)(c.A,{id:"dateOfBirth",label:"Date of Birth",className:"col-md-6",children:(0,j.jsx)(o.A,{type:"date",onChange:k.handleChange,value:k.values.dateOfBirth})}),(0,j.jsx)(c.A,{id:"gender",label:"Gender",className:"col-md-6",children:(0,j.jsxs)(h.A,{id:"gender",name:"gender",ariaLabel:"Select gender",onChange:k.handleChange,value:k.values.gender,children:[(0,j.jsx)(v.A,{value:"male",children:"Male"}),(0,j.jsx)(v.A,{value:"female",children:"Female"}),(0,j.jsx)(v.A,{value:"other",children:"Other"}),(0,j.jsx)(v.A,{value:"Prefer not to say",children:"Prefer not to say"})]})}),(0,j.jsx)(c.A,{id:"role",label:"Role",className:"col-md-6",children:(0,j.jsxs)(h.A,{id:"role",name:"role",ariaLabel:"Select role",onChange:k.handleChange,value:k.values.role,children:[(0,j.jsx)(v.A,{value:"Customer",children:"Customer"}),(0,j.jsx)(v.A,{value:"Admin",children:"Admin"}),(0,j.jsx)(v.A,{value:"Moderator",children:"Moderator"})]})}),(0,j.jsx)(c.A,{id:"accountStatus",label:"Account Status",className:"col-md-6",children:(0,j.jsxs)(h.A,{id:"accountStatus",name:"accountStatus",ariaLabel:"Select account status",onChange:k.handleChange,value:k.values.accountStatus,children:[(0,j.jsx)(v.A,{value:"Active",children:"Active"}),(0,j.jsx)(v.A,{value:"Inactive",children:"Inactive"}),(0,j.jsx)(v.A,{value:"Suspended",children:"Suspended"})]})}),(0,j.jsx)("div",{className:"col-md-12",children:(0,j.jsxs)(u.Ay,{className:"rounded-1 mb-0",children:[(0,j.jsx)(u.aR,{children:(0,j.jsx)(u.Bh,{icon:"LocationOn",children:(0,j.jsx)(u.ZB,{children:"Address Information"})})}),(0,j.jsx)(u.bw,{children:(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)(c.A,{id:"street",label:"Street",className:"col-md-6",children:(0,j.jsx)(o.A,{onChange:k.handleChange,value:k.values.address.street})}),(0,j.jsx)(c.A,{id:"city",label:"City",className:"col-md-6",children:(0,j.jsx)(o.A,{onChange:k.handleChange,value:k.values.address.city})}),(0,j.jsx)(c.A,{id:"state",label:"State",className:"col-md-6",children:(0,j.jsx)(o.A,{onChange:k.handleChange,value:k.values.address.state})}),(0,j.jsx)(c.A,{id:"zipCode",label:"Zip Code",className:"col-md-6",children:(0,j.jsx)(o.A,{onChange:k.handleChange,value:k.values.address.zipCode})}),(0,j.jsx)(c.A,{id:"country",label:"Country",className:"col-md-6",children:(0,j.jsx)(o.A,{onChange:k.handleChange,value:k.values.address.country})})]})})]})})]})}),(0,j.jsxs)(r.jl,{children:[(0,j.jsx)(m.A,{color:"secondary",onClick:()=>N(!1),children:"Cancel"}),(0,j.jsx)(m.A,{color:"primary",onClick:()=>k.handleSubmit(),children:C?"Update":"Create"})]})]}):null}}}]);
//# sourceMappingURL=6014.c6474249.chunk.js.map