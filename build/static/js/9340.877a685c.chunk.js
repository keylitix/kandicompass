"use strict";(self.webpackChunkfacit=self.webpackChunkfacit||[]).push([[9340],{26796:(e,s,l)=>{l.r(s),l.d(s,{default:()=>x});var a=l(65043),n=l(73216),i=l(17438),r=l(30242),c=l(26930),t=l(47819),d=l(21062),o=l(63720);const m=l.p+"static/media/user6.110e91aceaf97391617f.png";var h=l(70579);const x=()=>{const{id:e}=(0,n.g)(),{data:s,error:l,isLoading:x}=(0,i.$f)(e),p=null===s||void 0===s?void 0:s[0],[u,{isLoading:j}]=(0,i.H7)(),[f,b]=(0,a.useState)(!1),[N,v]=(0,a.useState)({name:"",email:"",phone:""});(0,a.useEffect)((()=>{p&&v({name:p.fullName||"",email:p.email||"",phone:p.phone||""})}),[p]);const g=e=>{v({...N,[e.target.name]:e.target.value})};return x?(0,h.jsx)(o.Ay,{color:"info",children:"Loading profile..."}):l?(0,h.jsx)(o.Ay,{color:"danger",children:"Failed to load user data."}):(0,h.jsx)(r.A,{title:`${(null===p||void 0===p?void 0:p.fullName)||"Employee Profile"}`,children:(0,h.jsxs)(c.A,{children:[(0,h.jsxs)("div",{className:"pt-3 pb-5 d-flex align-items-center",children:[(0,h.jsx)("span",{className:"display-4 fw-bold me-3",children:null===p||void 0===p?void 0:p.fullName}),(0,h.jsx)("span",{className:"border border-success border-2 text-success fw-bold px-3 py-2 rounded",children:null===p||void 0===p?void 0:p.role})]}),(0,h.jsxs)("div",{className:"row",children:[(0,h.jsx)("div",{className:"col-lg-4",children:(0,h.jsx)(t.Ay,{className:"shadow-3d-info",children:(0,h.jsx)(t.bw,{className:"text-center",children:(0,h.jsx)(d.A,{src:m,style:{width:"300px",height:"200px",objectFit:"cover"}})})})}),(0,h.jsx)("div",{className:"col-lg-8",children:(0,h.jsxs)(t.Ay,{className:"shadow-3d-primary",children:[(0,h.jsxs)(t.aR,{className:"d-flex justify-content-between align-items-center",children:[(0,h.jsx)(t.ZB,{className:"h4 mb-0",children:"My Profile"}),(0,h.jsx)("button",{className:"btn btn-outline-primary",onClick:()=>b(!f),children:f?"Cancel":"Edit"})]}),(0,h.jsx)(t.bw,{children:f?(0,h.jsxs)("form",{children:[(0,h.jsxs)("div",{className:"mb-3",children:[(0,h.jsx)("label",{children:"Name"}),(0,h.jsx)("input",{type:"text",className:"form-control",name:"name",value:N.name,onChange:g})]}),(0,h.jsxs)("div",{className:"mb-3",children:[(0,h.jsx)("label",{children:"Email"}),(0,h.jsx)("input",{type:"email",className:"form-control",name:"email",value:N.email,onChange:g})]}),(0,h.jsxs)("div",{className:"mb-3",children:[(0,h.jsx)("label",{children:"Phone"}),(0,h.jsx)("input",{type:"text",className:"form-control",name:"phone",value:N.phone,onChange:g})]}),(0,h.jsx)("button",{type:"button",className:"btn btn-success",onClick:async()=>{try{await u({id:e,updatedData:{fullName:N.name,email:N.email,phone:N.phone}}).unwrap(),alert("Profile updated successfully!"),b(!1)}catch(s){console.error("Error updating profile:",s),alert("Failed to update profile.")}},disabled:j,children:j?"Saving...":"Save"})]}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("p",{children:[(0,h.jsx)("strong",{children:"Name:"})," ",N.name]}),(0,h.jsxs)("p",{children:[(0,h.jsx)("strong",{children:"Email:"})," ",N.email]}),(0,h.jsxs)("p",{children:[(0,h.jsx)("strong",{children:"Phone:"})," ",N.phone]})]})})]})})]})]})})}}}]);
//# sourceMappingURL=9340.877a685c.chunk.js.map